(this.webpackJsonpprojectreact=this.webpackJsonpprojectreact||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),c=n(33),o=n(18),s=n(37),l=n(14),i=n(78),u=n.n(i),d=n(140),b=n.p+"static/media/logo.7e85f651.svg",j=n(79),h=Object(j.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"rgba(223, 220, 220, 1)"},primary:{light:"rgba(101, 14, 179, 1)",main:"rgba(58, 7, 104, 1)",dark:"rgba(29, 1, 60, 1)",contrastText:"#fff"},secondary:{light:"rgba(72, 136, 0, 1)",main:"rgba(40, 77, 0, 1)",dark:"rgba(18, 32, 1, 1)",contrastText:"#fff"},error:{light:"rgba(241, 2, 2, 1)",main:"rgba(184, 0, 21, 1)",dark:"rgba(102, 3, 3, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),p=n(108),g=n(5),f=function(){return Object(g.jsx)(d.a,{theme:h,children:Object(g.jsx)(p.a,{color:"primary",style:{float:"right",paddingRight:"1vh",paddingTop:"3vh",fontSize:"smaller"},children:"\xa9James K. - 2021"})})},m=n(17),y=n.n(m),O=n(27),x=n(143),v=n(144),k=n(145),S=n(146),A=n(147),C=(n(71),function(e){var t=function(t){e.dataForSnackBar(t)},n=Object(r.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{msg:"Alert Setup - Details",resArr:[]}),a=Object(c.a)(n,2),s=a[0],l=a[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(O.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("running setup..."),e.next=4,fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query {setupalerts {results}}"})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,l({resArr:r.data.setupalerts.results.replace(/([.])\s*(?=[A-Z])/g,"$1|").split("|")}),t("alerts collection setup completed"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(d.a,{theme:h,children:[Object(g.jsx)(p.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:s.msg}),Object(g.jsx)(x.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(k.a,{children:s.resArr.map((function(e){return Object(g.jsx)(S.a,{children:Object(g.jsx)(A.a,{component:"th",scope:"row",children:e})},e)}))})})})]})}),T=n(158),w=n(151),q=n(159),N="/graphql",B=function(e){var t=function(t){e.dataForSnackBar(t)},n=Object(r.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{selectedCountry:null,countryNames:[],travellerName:"",msg:"Add Advisory"}),a=Object(c.a)(n,2),s=a[0],l=a[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(O.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("loading countries..."),e.next=4,fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query {allcountries}"})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,l({countryNames:r.data.allcountries}),t("found ".concat(r.data.allcountries.length," countries")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),u=void 0===s.travellerName||null===s.travellerName||void 0===s.selectedCountry||null===s.selectedCountry,b=function(){var e=Object(O.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation($name: String, $country: String) { addAdvisory(name: $name, country: $country) {name,country,text,date}}",variables:{name:s.travellerName,country:s.selectedCountry}})});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t("added advisory on ".concat(r.data.addAdvisory.date)),l({travellerName:"",selectedCountry:null}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem adding advisory - ".concat(e.t0.message)});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(d.a,{theme:h,children:[Object(g.jsx)(p.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:s.msg}),Object(g.jsx)(T.a,{onChange:function(e){l({travellerName:e.target.value})},helperText:"Traveller's Name",value:s.travellerName,style:{justifyContent:"center",display:"flex",padding:"2vh"}}),Object(g.jsx)(q.a,{options:s.countryNames,getOptionLabel:function(e){return e},style:{width:300},onChange:function(e,t){l(t?{selectedCountry:t}:{selectedCountry:null})},value:s.selectedCountry,renderInput:function(e){return Object(g.jsx)(T.a,Object(o.a)(Object(o.a)({style:{padding:"2vh"}},e),{},{label:"Select a Country",variant:"outlined",fullWidth:!0}))}}),Object(g.jsx)(w.a,{variant:"contained",color:"primary",size:"large",onClick:b,disabled:u,fullWidth:!0,children:"ADD ADVISORY"})]})},P=n(148),R=n(163),J=n(152),L=n(160),E=n(83),W=n(153),F="/graphql",$=function(e){var t=Object(r.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{displayArr:[],comboArr:[],msg:"List Advisories By:",selectedString:null,comboLabel:"",queryType:""}),n=Object(c.a)(t,2),a=n[0],s=n[1],l=function(t){e.dataForSnackBar(t)};Object(r.useEffect)((function(){u()}),[]);var i=function(){var e=Object(O.a)(y.a.mark((function e(t,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=19;break}return s({selectedString:n}),e.prev=2,e.next=5,fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query($name: String) {".concat(a.queryType," (name: $name) {name,text,date}}"),variables:{name:n}})});case 5:return r=e.sent,e.next=8,r.json();case 8:c=e.sent,s({displayArr:c.data[a.queryType]}),l("found ".concat(c.data[a.queryType].length," alerts for ").concat(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),s({msg:"Problem loading server data - ".concat(e.t0.message)});case 17:e.next=20;break;case 19:s({selectedString:null});case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(O.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({queryType:"alertsfortraveller"}),e.prev=1,e.next=4,fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{alltravellers}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,s({comboArr:n.data.alltravellers,comboLabel:"Select a Traveller"}),l("found ".concat(n.data.alltravellers.length," travellers")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(O.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({queryType:"alertsforregion"}),e.prev=1,e.next=4,fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{regions}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,s({comboArr:n.data.regions,comboLabel:"Select a Region"}),l("found ".concat(n.data.regions.length," regions")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({queryType:"alertsforsubregion"}),e.prev=1,e.next=4,fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{subregions}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,s({comboArr:n.data.subregions,comboLabel:"Select a Sub-Region"}),l("found ".concat(n.data.subregions.length," sub-regions")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),s({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(d.a,{theme:h,children:[Object(g.jsx)(p.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:a.msg}),Object(g.jsx)(P.a,{component:"fieldset",children:Object(g.jsxs)(R.a,{onChange:function(e){switch(s({selectedString:null,displayArr:[],comboArr:[]}),e.target.value){case"traveller":u();break;case"region":b();break;case"sub-region":j()}},row:!0,defaultValue:"traveller",children:[Object(g.jsx)(J.a,{labelPlacement:"start",value:"traveller",control:Object(g.jsx)(L.a,{}),label:"Traveller"}),Object(g.jsx)(J.a,{labelPlacement:"start",value:"region",control:Object(g.jsx)(L.a,{}),label:"Region"}),Object(g.jsx)(J.a,{labelPlacement:"start",value:"sub-region",control:Object(g.jsx)(L.a,{}),label:"Sub-Region"})]})}),Object(g.jsx)(q.a,{options:a.comboArr,getOptionLabel:function(e){return e},style:{width:300},onChange:i,value:a.selectedString,renderInput:function(e){return Object(g.jsx)(T.a,Object(o.a)(Object(o.a)({style:{padding:"2vh"}},e),{},{label:a.comboLabel,variant:"outlined",fullWidth:!0}))}}),Object(g.jsx)(E.a,{children:Object(g.jsx)(x.a,{style:{maxHeight:350},children:Object(g.jsxs)(v.a,{stickyHeader:!0,children:[Object(g.jsx)(W.a,{children:Object(g.jsxs)(S.a,{children:[Object(g.jsx)(A.a,{children:Object(g.jsx)(p.a,{fontWeight:"fontWeightBold",children:"Country"})}),Object(g.jsx)(A.a,{children:Object(g.jsx)(p.a,{fontWeight:"fontWeightBold",children:"Alert Information"})})]})}),Object(g.jsx)(k.a,{children:a.displayArr.map((function(e){return Object(g.jsxs)(S.a,{children:[Object(g.jsx)(A.a,{component:"th",scope:"row",children:e.name}),Object(g.jsxs)(A.a,{children:[e.text," ",e.date]})]},e.text+e.name)}))})]})})})]})},D=n(154),I=n(155),H=n(150),M=n(80),V=n(164),z=n(156),K=n(157),Y=n(162),Z=function(){var e=Object(r.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{snackBarMsg:"",showSnackBar:!1,anchorEl:null}),t=Object(c.a)(e,2),n=t[0],a=t[1],i=function(e){a({snackBarMsg:e,showSnackBar:!0})},j=function(){a({anchorEl:null})};return Object(g.jsxs)(d.a,{theme:h,children:[Object(g.jsx)(D.a,{position:"static",children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(p.a,{variant:"h6",color:"inherit",children:"INFO3139 - Case Study #1"}),Object(g.jsx)(H.a,{onClick:function(e){a({anchorEl:e.currentTarget})},color:"inherit",style:{marginLeft:"auto",paddingRight:"1vh"},children:Object(g.jsx)(u.a,{})}),Object(g.jsxs)(M.a,{id:"simple-menu",anchorEl:n.anchorEl,open:Boolean(n.anchorEl),onClose:j,children:[Object(g.jsx)(V.a,{component:s.b,to:"/homecomponent",onClick:j,children:"Home"}),Object(g.jsx)(V.a,{component:s.b,to:"/alertcomponent",onClick:j,children:"Reset Alerts"}),Object(g.jsx)(V.a,{component:s.b,to:"/advisoryaddcomponent",onClick:j,children:"Add Advisory"}),Object(g.jsx)(V.a,{component:s.b,to:"listcomponent",onClick:j,children:"List Advisories"})]})]})}),Object(g.jsxs)(z.a,{style:{marginTop:"5%"},children:[Object(g.jsx)(K.a,{style:{justifyContent:"center",display:"flex"},children:Object(g.jsx)("img",{alt:"logo",style:{height:100,width:100},src:b})}),Object(g.jsx)(p.a,{style:{textAlign:"center"},variant:"h5",color:"primary",children:"World Wide Travel Alerts"}),Object(g.jsxs)("div",{children:[Object(g.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(l.a,{to:"/homecomponent"})}}),Object(g.jsx)(l.b,{path:"/alertcomponent",render:function(){return Object(g.jsx)(C,{dataForSnackBar:i})}}),Object(g.jsx)(l.b,{path:"/advisoryaddcomponent",render:function(){return Object(g.jsx)(B,{dataForSnackBar:i})}}),Object(g.jsx)(l.b,{path:"/listcomponent",render:function(){return Object(g.jsx)($,{dataForSnackBar:i})}}),Object(g.jsx)(l.b,{path:"/homecomponent",component:f})]})]}),Object(g.jsx)(Y.a,{open:n.showSnackBar,message:n.snackBarMsg,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&a({showSnackBar:!1})}})]})};Object(a.render)(Object(g.jsx)(s.a,{children:Object(g.jsx)(Z,{})}),document.querySelector("#root"))},71:function(e,t,n){}},[[107,1,2]]]);