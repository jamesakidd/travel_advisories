(this.webpackJsonpprojectreact=this.webpackJsonpprojectreact||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),s=n(28),o=n(16),l=n(35),i=n(15),d=n(79),u=n.n(d),b=n(140),j=n.p+"static/media/logo.7e85f651.svg",h=n(80),p=Object(h.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"rgba(223, 220, 220, 1)"},primary:{light:"rgba(101, 14, 179, 1)",main:"rgba(58, 7, 104, 1)",dark:"rgba(29, 1, 60, 1)",contrastText:"#fff"},secondary:{light:"rgba(72, 136, 0, 1)",main:"rgba(40, 77, 0, 1)",dark:"rgba(18, 32, 1, 1)",contrastText:"#fff"},error:{light:"rgba(241, 2, 2, 1)",main:"rgba(184, 0, 21, 1)",dark:"rgba(102, 3, 3, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),y=n(108),m=n(3),g=function(){return Object(m.jsx)(b.a,{theme:p,children:Object(m.jsx)(y.a,{color:"primary",style:{float:"right",paddingRight:"1vh",paddingTop:"3vh",fontSize:"smaller"},children:"\xa9James K. - 2021"})})},O=n(14),x=n.n(O),f=n(23),v=n(143),k=n(144),S=n(145),C=n(146),w=n(147),T=(n(65),function(e){var t=function(t){e.dataForSnackBar(t)},n=Object(a.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{msg:"Alert Setup - Details",resArr:[]}),r=Object(s.a)(n,2),c=r[0],l=r[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var e=Object(f.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("running setup..."),e.next=4,fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query {setupalerts {results}}"})});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,l({resArr:a.data.setupalerts.results.replace(/([.])\s*(?=[A-Z])/g,"$1|").split("|")}),t("alerts collection setup completed"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(b.a,{theme:p,children:[Object(m.jsx)(y.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:c.msg}),Object(m.jsx)(v.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsx)(S.a,{children:c.resArr.map((function(e){return Object(m.jsx)(C.a,{children:Object(m.jsx)(w.a,{component:"th",scope:"row",children:e})},e)}))})})})]})}),A=n(159),q=n(151),N=n(160),P="/graphql",B=function(e){var t=function(t){e.dataForSnackBar(t)},n=Object(a.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{selectedCountry:null,countryNames:[],travellerName:"",msg:"Add Advisory"}),r=Object(s.a)(n,2),c=r[0],l=r[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var e=Object(f.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("loading countries..."),e.next=4,fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query {allcountries}"})});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,l({countryNames:a.data.allcountries}),t("found ".concat(a.data.allcountries.length," countries")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),d=void 0===c.travellerName||null===c.travellerName||/^\s+$/.test(c.travellerName)||void 0===c.selectedCountry||null===c.selectedCountry,u=function(){var e=Object(f.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"mutation($name: String, $country: String) { addAdvisory(name: $name, country: $country) {name,country,text,date}}",variables:{name:c.travellerName,country:c.selectedCountry}})});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t("added advisory on ".concat(a.data.addAdvisory.date)),l({travellerName:"",selectedCountry:null}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),l({msg:"Problem adding advisory - ".concat(e.t0.message)});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(b.a,{theme:p,children:[Object(m.jsx)(y.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:c.msg}),Object(m.jsx)(A.a,{onChange:function(e){l({travellerName:e.target.value})},helperText:"Traveller's Name",value:c.travellerName,style:{justifyContent:"center",display:"flex",padding:"2vh"}}),Object(m.jsx)(N.a,{options:c.countryNames,getOptionLabel:function(e){return e},style:{width:300},onChange:function(e,t){l(t?{selectedCountry:t}:{selectedCountry:null})},value:c.selectedCountry,renderInput:function(e){return Object(m.jsx)(A.a,Object(o.a)(Object(o.a)({style:{padding:"2vh"}},e),{},{label:"Select a Country",variant:"outlined",fullWidth:!0}))}}),Object(m.jsx)(q.a,{variant:"contained",color:"primary",size:"large",onClick:u,disabled:d,fullWidth:!0,children:"ADD ADVISORY"})]})},E=n(148),F=n(164),R=n(152),J=n(161),W=n(84),L=n(153),$="/graphql",I=function(e){var t=Object(a.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{displayArr:[],comboArr:[],msg:"List Advisories By:",selectedString:null,comboLabel:"",queryType:""}),n=Object(s.a)(t,2),r=n[0],c=n[1],l=function(t){e.dataForSnackBar(t)};Object(a.useEffect)((function(){d()}),[]);var i=function(){var e=Object(f.a)(x.a.mark((function e(t,n){var a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=19;break}return c({selectedString:n}),e.prev=2,e.next=5,fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query($name: String) {".concat(r.queryType," (name: $name) {name,text,date}}"),variables:{name:n}})});case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,c({displayArr:s.data[r.queryType]}),l("found ".concat(s.data[r.queryType].length," alerts for ").concat(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),c({msg:"Problem loading server data - ".concat(e.t0.message)});case 17:e.next=20;break;case 19:c({selectedString:null});case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(f.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({queryType:"alertsfortraveller"}),e.prev=1,e.next=4,fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{alltravellers}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c({comboArr:n.data.alltravellers,comboLabel:"Select a Traveller"}),l("found ".concat(n.data.alltravellers.length," travellers")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),c({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({queryType:"alertsforregion"}),e.prev=1,e.next=4,fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{regions}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c({comboArr:n.data.regions,comboLabel:"Select a Region"}),l("found ".concat(n.data.regions.length," regions")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),c({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({queryType:"alertsforsubregion"}),e.prev=1,e.next=4,fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query{subregions}"})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c({comboArr:n.data.subregions,comboLabel:"Select a Sub-Region"}),l("found ".concat(n.data.subregions.length," sub-regions")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),c({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(b.a,{theme:p,children:[Object(m.jsx)(y.a,{style:{textAlign:"center",padding:"3vh"},variant:"h5",color:"primary",children:r.msg}),Object(m.jsx)(E.a,{component:"fieldset",children:Object(m.jsxs)(F.a,{onChange:function(e){switch(c({selectedString:null,displayArr:[],comboArr:[]}),e.target.value){case"traveller":d();break;case"region":u();break;case"sub-region":j()}},row:!0,defaultValue:"traveller",children:[Object(m.jsx)(R.a,{labelPlacement:"start",value:"traveller",control:Object(m.jsx)(J.a,{}),label:"Traveller"}),Object(m.jsx)(R.a,{labelPlacement:"start",value:"region",control:Object(m.jsx)(J.a,{}),label:"Region"}),Object(m.jsx)(R.a,{labelPlacement:"start",value:"sub-region",control:Object(m.jsx)(J.a,{}),label:"Sub-Region"})]})}),Object(m.jsx)(N.a,{options:r.comboArr,getOptionLabel:function(e){return e},style:{width:300},onChange:i,value:r.selectedString,renderInput:function(e){return Object(m.jsx)(A.a,Object(o.a)(Object(o.a)({style:{padding:"2vh"}},e),{},{label:r.comboLabel,variant:"outlined",fullWidth:!0}))}}),Object(m.jsx)(W.a,{children:Object(m.jsx)(v.a,{style:{maxHeight:350},children:Object(m.jsxs)(k.a,{stickyHeader:!0,children:[Object(m.jsx)(L.a,{children:Object(m.jsxs)(C.a,{children:[Object(m.jsx)(w.a,{children:Object(m.jsx)(y.a,{fontWeight:"fontWeightBold",children:"Country"})}),Object(m.jsx)(w.a,{children:Object(m.jsx)(y.a,{fontWeight:"fontWeightBold",children:"Alert Information"})})]})}),Object(m.jsx)(S.a,{children:r.displayArr.map((function(e){return Object(m.jsxs)(C.a,{children:[Object(m.jsx)(w.a,{component:"th",scope:"row",children:e.name}),Object(m.jsxs)(w.a,{children:[e.text," ",e.date]})]},e.text+e.name)}))})]})})})]})},D=n(154),H="/graphql",M=function(e){var t=function(t){e.dataForSnackBar(t)},n=Object(a.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{selectedCountry:null,countryNames:[],embassy:null,msg:""}),c=Object(s.a)(n,2),l=c[0],i=c[1],d=function(){var e=Object(f.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=18;break}return i({selectedCountry:n}),e.prev=2,e.next=5,fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query($sourcecountry: String) {embassyForCountry(sourcecountry: $sourcecountry) {sourceCountry,lat,lng,country,city,address,embassytype,passport,tel,fax,email,website}}",variables:{sourcecountry:n}})});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,i({embassy:r.data.embassyForCountry[0],msg:"Your nearest embassy"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),i({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:e.next=19;break;case 18:i({selectedCountry:null,embassy:null,msg:""});case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(f.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t("loading countries..."),e.next=4,fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query {allEmbassyCountries}"})});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,i({countryNames:a.data.allEmbassyCountries}),t("found ".concat(a.data.allEmbassyCountries.length," countries")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),i({msg:"Problem loading server data - ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(b.a,{theme:p,children:[Object(m.jsx)(N.a,{options:l.countryNames,getOptionLabel:function(e){return e},style:{width:300},onChange:d,value:l.selectedCountry,renderInput:function(e){return Object(m.jsx)(A.a,Object(o.a)(Object(o.a)({style:{padding:"2vh"}},e),{},{label:"Select a Country",variant:"outlined",fullWidth:!0}))}}),Object(m.jsx)(y.a,{style:{textAlign:"center",padding:"1vh"},variant:"h5",color:"primary",children:l.msg}),null!==l.embassy&&Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Country:"})," ","".concat(l.embassy.country)]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"City:"})," ",l.embassy.city]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Address:"})," ",l.embassy.address]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Owner:"})," ",l.embassy.embassytype]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Has Passport Services:"})," ",1===l.embassy.passport?"Yes":"No"]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Tel:"})," ",l.embassy.tel]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Fax:"})," ",l.embassy.fax]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsx)("div",{style:{padding:5},children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Email:"})," ",l.embassy.email]})}),Object(m.jsx)(D.a,{variant:"middle"}),Object(m.jsxs)("div",{style:{padding:5},children:[Object(m.jsxs)(y.a,{children:[Object(m.jsx)("h4",{style:{display:"inline"},children:"Website:"})," ",Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(l.embassy.website),children:l.embassy.website})]})," "]}),Object(m.jsx)(q.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return window.open("https://maps.google.com/?q=".concat(l.embassy.lat,",").concat(l.embassy.lng),"_blank")},fullWidth:!0,style:{marginTop:"3vh"},children:"Open Map"})]})]})},z=n(155),V=n(156),Y=n(150),_=n(81),K=n(165),Z=n(157),G=n(158),Q=n(163),U=function(){var e=Object(a.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{snackBarMsg:"",showSnackBar:!1,anchorEl:null}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(e){r({snackBarMsg:e,showSnackBar:!0})},d=function(){r({anchorEl:null})};return Object(m.jsxs)(b.a,{theme:p,children:[Object(m.jsx)(z.a,{position:"static",children:Object(m.jsxs)(V.a,{children:[Object(m.jsx)(y.a,{variant:"h6",color:"inherit",children:"INFO3139 - Case Study #1.5"}),Object(m.jsx)(Y.a,{onClick:function(e){r({anchorEl:e.currentTarget})},color:"inherit",style:{marginLeft:"auto",paddingRight:"1vh"},children:Object(m.jsx)(u.a,{})}),Object(m.jsxs)(_.a,{id:"simple-menu",anchorEl:n.anchorEl,open:Boolean(n.anchorEl),onClose:d,children:[Object(m.jsx)(K.a,{component:l.b,to:"/homecomponent",onClick:d,children:"Home"}),Object(m.jsx)(K.a,{component:l.b,to:"/alertcomponent",onClick:d,children:"Reset Alerts"}),Object(m.jsx)(K.a,{component:l.b,to:"/advisoryaddcomponent",onClick:d,children:"Add Advisory"}),Object(m.jsx)(K.a,{component:l.b,to:"listcomponent",onClick:d,children:"List Advisories"}),Object(m.jsx)(K.a,{component:l.b,to:"embassycomponent",onClick:d,children:"Find an Embassy"})]})]})}),Object(m.jsxs)(Z.a,{style:{marginTop:"5%"},children:[Object(m.jsx)(G.a,{style:{justifyContent:"center",display:"flex"},children:Object(m.jsx)("img",{alt:"logo",style:{height:100,width:100},src:j})}),Object(m.jsx)(y.a,{style:{textAlign:"center"},variant:"h5",color:"primary",children:"World Wide Travel Alerts"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(i.a,{to:"/homecomponent"})}}),Object(m.jsx)(i.b,{path:"/alertcomponent",render:function(){return Object(m.jsx)(T,{dataForSnackBar:c})}}),Object(m.jsx)(i.b,{path:"/advisoryaddcomponent",render:function(){return Object(m.jsx)(B,{dataForSnackBar:c})}}),Object(m.jsx)(i.b,{path:"/listcomponent",render:function(){return Object(m.jsx)(I,{dataForSnackBar:c})}}),Object(m.jsx)(i.b,{path:"/embassycomponent",render:function(){return Object(m.jsx)(M,{dataForSnackBar:c})}}),Object(m.jsx)(i.b,{path:"/homecomponent",component:g})]})]}),Object(m.jsx)(Q.a,{open:n.showSnackBar,message:n.snackBarMsg,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&r({showSnackBar:!1})}})]})};Object(c.render)(Object(m.jsx)(l.a,{children:Object(m.jsx)(U,{})}),document.querySelector("#root"))},65:function(e,t,n){}},[[107,1,2]]]);